"use strict";(self.webpackChunk_dashboard=self.webpackChunk_dashboard||[]).push([[606],{1606:(me,p,s)=>{s.r(p),s.d(p,{VolunteersModule:()=>le});var f=s(3423),_=s(1095),V=s(7539),a=s(8295),x=s(6627),h=s(9983),b=s(3935),g=s(9692),v=s(2178),Z=s(2458),m=s(1494),T=s(7441),A=s(5396),Q=s(1436),J=s(4466),l=s(3679),U=s(9765),I=s(6682),u=s(6782),q=s(4395),C=s(3190),y=s(8002),N=s(1452),e=s(7716),w=s(1400),L=s(9150),c=s(8583);function F(t,o){1&t&&(e.TgZ(0,"div",16),e._UZ(1,"mat-progress-bar",17),e.qZA()),2&t&&(e.xp6(1),e.Q6J("mode","indeterminate"))}function k(t,o){1&t&&(e.ynx(0),e._UZ(1,"mat-icon",33),e.BQk()),2&t&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:check"))}function D(t,o){1&t&&(e.ynx(0),e._UZ(1,"mat-icon",34),e.BQk()),2&t&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:x"))}function S(t,o){1&t&&e.GkF(0)}const Y=function(t){return{$implicit:t}};function M(t,o){if(1&t&&(e.ynx(0),e.YNc(1,S,1,0,"ng-container",35),e.BQk()),2&t){const n=e.oxw(5),i=e.MAs(18);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,Y,n.selectedVolunteer))}}function B(t,o){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",26),e.TgZ(2,"div",27),e._uU(3),e.qZA(),e.TgZ(4,"div",28),e.TgZ(5,"div",27),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"div",29),e._uU(8),e.qZA(),e.TgZ(9,"div",29),e._uU(10),e.qZA(),e.TgZ(11,"div",29),e._uU(12),e.qZA(),e.TgZ(13,"div",30),e.YNc(14,k,2,1,"ng-container",13),e.YNc(15,D,2,1,"ng-container",13),e.qZA(),e.TgZ(16,"div"),e.TgZ(17,"button",31),e.NdJ("click",function(){const d=e.CHM(n).$implicit;return e.oxw(4).toggleDetails(d.id)}),e._UZ(18,"mat-icon",32),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",19),e.YNc(20,M,2,4,"ng-container",13),e.qZA(),e.BQk()}if(2&t){const n=o.$implicit,i=o.index,r=e.oxw(4);e.xp6(3),e.hij(" ",i+1," "),e.xp6(3),e.Oqu(n.name),e.xp6(2),e.hij(" ",n.contact," "),e.xp6(2),e.hij(" ",n.address," "),e.xp6(2),e.hij(" ",n.email," "),e.xp6(2),e.Q6J("ngIf",n.active),e.xp6(1),e.Q6J("ngIf",!n.active),e.xp6(3),e.Q6J("svgIcon",(null==r.selectedVolunteer?null:r.selectedVolunteer.id)===n.id?"heroicons_solid:chevron-up":"heroicons_solid:chevron-down"),e.xp6(2),e.Q6J("ngIf",(null==r.selectedVolunteer?null:r.selectedVolunteer.id)===n.id)}}function O(t,o){if(1&t&&(e.ynx(0),e.YNc(1,B,21,9,"ng-container",25),e.BQk()),2&t){const n=o.ngIf,i=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",n)("ngForTrackBy",i.trackByFn)}}const R=function(t){return{"pointer-events-none":t}},z=function(){return[5,10,25,100]};function j(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"div",19),e.TgZ(2,"div",20),e.TgZ(3,"div",21),e._uU(4," S. No. "),e.qZA(),e.TgZ(5,"div",21),e._uU(6," Name "),e.qZA(),e.TgZ(7,"div",22),e._uU(8," Phone "),e.qZA(),e.TgZ(9,"div",22),e._uU(10," Address "),e.qZA(),e.TgZ(11,"div",22),e._uU(12," Email "),e.qZA(),e.TgZ(13,"div",22),e._uU(14," Active "),e.qZA(),e.TgZ(15,"div",23),e._uU(16,"Details"),e.qZA(),e.qZA(),e.YNc(17,O,2,2,"ng-container",13),e.ALo(18,"async"),e.qZA(),e._UZ(19,"mat-paginator",24),e.BQk()),2&t){const n=e.oxw(2);e.xp6(3),e.Q6J("mat-sort-header","serial_number"),e.xp6(2),e.Q6J("mat-sort-header","name"),e.xp6(2),e.Q6J("mat-sort-header","contact"),e.xp6(2),e.Q6J("mat-sort-header","Address"),e.xp6(2),e.Q6J("mat-sort-header","Email"),e.xp6(2),e.Q6J("mat-sort-header","active"),e.xp6(4),e.Q6J("ngIf",e.lcZ(18,13,n.volunteers$)),e.xp6(2),e.Q6J("ngClass",e.VKq(15,R,n.isLoading))("length",n.pagination.length)("pageIndex",n.pagination.page)("pageSize",n.pagination.size)("pageSizeOptions",e.DdM(17,z))("showFirstLastButtons",!0)}}function E(t,o){if(1&t&&(e.ynx(0),e.YNc(1,j,20,18,"ng-container",18),e.BQk()),2&t){const n=o.ngIf;e.oxw();const i=e.MAs(20);e.xp6(1),e.Q6J("ngIf",n.length>0)("ngIfElse",i)}}function $(t,o){1&t&&e._UZ(0,"mat-icon",32),2&t&&e.Q6J("svgIcon","heroicons_solid:eye")}function P(t,o){1&t&&e._UZ(0,"mat-icon",32),2&t&&e.Q6J("svgIcon","heroicons_solid:eye-off")}function G(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"mat-option",64),e._uU(2),e.qZA(),e.BQk()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("value",n.id),e.xp6(1),e.hij(" ",n.day," ")}}function H(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"mat-option",64),e._uU(2),e.qZA(),e.BQk()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("value",n),e.xp6(1),e.hij(" ",n," ")}}function W(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"mat-option",64),e._uU(2),e.qZA(),e.BQk()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("value",n),e.xp6(1),e.hij(" ",n," ")}}function X(t,o){1&t&&(e.ynx(0),e._UZ(1,"mat-icon",66),e.TgZ(2,"span",67),e._uU(3,"Volunteer updated"),e.qZA(),e.BQk()),2&t&&(e.xp6(1),e.Q6J("svgIcon","heroicons_outline:check"))}function K(t,o){1&t&&(e.ynx(0),e._UZ(1,"mat-icon",68),e.TgZ(2,"span",67),e._uU(3,"An error occurred, try again!"),e.qZA(),e.BQk()),2&t&&(e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x"))}function ee(t,o){if(1&t&&(e.TgZ(0,"div",65),e.YNc(1,X,4,1,"ng-container",13),e.YNc(2,K,4,1,"ng-container",13),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf","success"===n.flashMessage),e.xp6(1),e.Q6J("ngIf","error"===n.flashMessage)}}function te(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",36),e.TgZ(1,"div",37),e.TgZ(2,"form",38),e.TgZ(3,"div",39),e.TgZ(4,"div",40),e.TgZ(5,"div",41),e.TgZ(6,"mat-form-field",42),e.TgZ(7,"mat-label"),e._uU(8,"Name"),e.qZA(),e._UZ(9,"input",43),e.qZA(),e.TgZ(10,"div",44),e.TgZ(11,"mat-form-field",45),e._UZ(12,"textarea",46),e._UZ(13,"mat-icon",6),e.qZA(),e.TgZ(14,"mat-form-field",47),e.TgZ(15,"mat-label"),e._uU(16,"Phone"),e.qZA(),e._UZ(17,"input",43),e.qZA(),e.TgZ(18,"mat-form-field",42),e.TgZ(19,"mat-label"),e._uU(20,"Password"),e.qZA(),e._UZ(21,"input",48,49),e.TgZ(23,"button",50),e.NdJ("click",function(){e.CHM(n);const r=e.MAs(22);return r.type="password"===r.type?"text":"password"}),e.YNc(24,$,1,1,"mat-icon",51),e.YNc(25,P,1,1,"mat-icon",51),e.qZA(),e.TgZ(26,"mat-error"),e._uU(27," Password is required "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",44),e.TgZ(29,"mat-form-field",52),e.TgZ(30,"mat-label"),e._uU(31,"Volunteering Days"),e.qZA(),e.TgZ(32,"mat-select",53),e.YNc(33,G,3,2,"ng-container",54),e.qZA(),e.qZA(),e.TgZ(34,"mat-form-field",52),e.TgZ(35,"mat-label"),e._uU(36,"Volunteering Start Time"),e.qZA(),e.TgZ(37,"mat-select",55),e.YNc(38,H,3,2,"ng-container",54),e.qZA(),e.qZA(),e.TgZ(39,"mat-form-field",52),e.TgZ(40,"mat-label"),e._uU(41,"Volunteering End Time"),e.qZA(),e.TgZ(42,"mat-select",55),e.YNc(43,W,3,2,"ng-container",54),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(44,"div",56),e.TgZ(45,"mat-form-field",57),e.TgZ(46,"mat-label"),e._uU(47,"PinCode"),e.qZA(),e._UZ(48,"input",43),e.qZA(),e.TgZ(49,"span",58),e._uU(50,"Volunteer status"),e.qZA(),e.TgZ(51,"mat-slide-toggle",59),e._uU(52),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(53,"div",60),e.TgZ(54,"div",61),e.YNc(55,ee,3,2,"div",62),e.TgZ(56,"button",63),e.NdJ("click",function(){return e.CHM(n),e.oxw().updateSelectedVolunteer()}),e._uU(57," Update "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=e.MAs(22),i=e.oxw();e.xp6(2),e.Q6J("formGroup",i.selectedVolunteerForm),e.xp6(7),e.Q6J("formControlName","name"),e.xp6(3),e.Q6J("placeholder","Address")("rows",3)("formControlName","address"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:menu-alt-2"),e.xp6(4),e.Q6J("formControlName","contact"),e.xp6(4),e.Q6J("formControlName","password"),e.xp6(3),e.Q6J("ngIf","password"===n.type),e.xp6(1),e.Q6J("ngIf","text"===n.type),e.xp6(7),e.Q6J("formControlName","volunteeringDays"),e.xp6(1),e.Q6J("ngForOf",i.weekDays),e.xp6(4),e.Q6J("formControlName","volunteeringStartTime"),e.xp6(1),e.Q6J("ngForOf",i.hours24),e.xp6(4),e.Q6J("formControlName","volunteeringEndTime"),e.xp6(1),e.Q6J("ngForOf",i.hours24),e.xp6(5),e.Q6J("formControlName","pincode"),e.xp6(3),e.Q6J("formControlName","active")("color","primary"),e.xp6(1),e.hij(" ",!0===i.selectedVolunteerForm.get("active").value?"Active":"Disabled"," "),e.xp6(3),e.Q6J("ngIf",i.flashMessage),e.xp6(1),e.Q6J("color","primary")}}function ne(t,o){1&t&&(e.TgZ(0,"div",69),e._uU(1,"There are no Volunteers!"),e.qZA())}let oe=(()=>{class t{constructor(n,i,r,d){this._changeDetectorRef=n,this._fuseConfirmationService=i,this._formBuilder=r,this._volunteersService=d,this.flashMessage=null,this.isLoading=!1,this.searchInputControl=new l.NI,this.selectedVolunteer=null,this._unsubscribeAll=new U.xQ,this.hours24=Array.from({length:24},(ae,ce)=>`${ce.toString().padStart(2,"0")}:00`)}ngOnInit(){this.selectedVolunteerForm=this._formBuilder.group({id:[""],name:["",[l.kI.required]],contact:[""],volunteeringDays:[""],address:[""],pincode:[""],email:[""],volunteeringStartTime:[""],volunteeringEndTime:[""],password:[""],active:[!0]}),this.weekDays=[{id:1,day:"Monday"},{id:2,day:"Tuesday"},{id:3,day:"Wednesday"},{id:4,day:"Thursday"},{id:5,day:"Friday"},{id:6,day:"Saturday"},{id:7,day:"Sunday"}],this._volunteersService.pagination$.pipe((0,u.R)(this._unsubscribeAll)).subscribe(n=>{this.pagination=n,this._changeDetectorRef.markForCheck()}),this.volunteers$=this._volunteersService.volunteers$,this.searchInputControl.valueChanges.pipe((0,u.R)(this._unsubscribeAll),(0,q.b)(300),(0,C.w)(n=>(this.closeDetails(),this.isLoading=!0,this._volunteersService.getVolunteers(0,10,"name","asc",n))),(0,y.U)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"asc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,u.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0,this.closeDetails()}),(0,I.T)(this._sort.sortChange,this._paginator.page).pipe((0,C.w)(()=>(this.closeDetails(),this.isLoading=!0,this._volunteersService.getVolunteers(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,y.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}toggleDetails(n){this.selectedVolunteer&&this.selectedVolunteer.id===n?this.closeDetails():this._volunteersService.getVolunteerById(n).subscribe(i=>{this.selectedVolunteer=i,this.selectedVolunteerForm.patchValue(i),this._changeDetectorRef.markForCheck()})}closeDetails(){this.selectedVolunteer=null}createVolunteer(){this._volunteersService.createVolunteer().subscribe(n=>{this.selectedVolunteer=n,this.selectedVolunteerForm.patchValue(n),this._changeDetectorRef.markForCheck()})}updateSelectedVolunteer(){const n=this.selectedVolunteerForm.getRawValue();this._volunteersService.updateVolunteer(n.id,n).subscribe(()=>{this.showFlashMessage("success")})}showFlashMessage(n){this.flashMessage=n,this._changeDetectorRef.markForCheck(),console.log(this.flashMessage),console.log("asdasd"),setTimeout(()=>{this.flashMessage=null,this._changeDetectorRef.markForCheck()},3e3)}trackByFn(n,i){return i.id||n}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(e.sBO),e.Y36(w.R),e.Y36(l.qu),e.Y36(L.C))},t.\u0275cmp=e.Xpm({type:t,selectors:[["volunteers-list"]],viewQuery:function(n,i){if(1&n&&(e.Gf(g.NW,5),e.Gf(m.YE,5)),2&n){let r;e.iGM(r=e.CRH())&&(i._paginator=r.first),e.iGM(r=e.CRH())&&(i._sort=r.first)}},decls:21,vars:10,consts:[[1,"sm:absolute","sm:inset-0","flex","flex-col","flex-auto","min-w-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","py-8","px-6","md:px-8","border-b"],["class","absolute inset-x-0 bottom-0",4,"ngIf"],[1,"text-4xl","font-extrabold","tracking-tight"],[1,"flex","flex-shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4"],[1,"fuse-mat-dense","fuse-mat-no-subscript","fuse-mat-rounded","min-w-64"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-flat-button","",1,"ml-4",3,"color","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","sm:mb-18","overflow-hidden","sm:overflow-y-auto"],[4,"ngIf"],["rowDetailsTemplate",""],["noVolunteer",""],[1,"absolute","inset-x-0","bottom-0"],[3,"mode"],[4,"ngIf","ngIfElse"],[1,"grid"],["matSort","","matSortDisableClear","",1,"volunteers-grid","z-10","sticky","top-0","grid","gap-4","py-4","px-6","md:px-8","shadow","text-md","font-semibold","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[1,"lg:flex","items-center",3,"mat-sort-header"],[1,"hidden","lg:flex","items-center",3,"mat-sort-header"],[1,"hidden","sm:flex","items-center"],[1,"sm:absolute","sm:inset-x-0","sm:bottom-0","border-b","sm:border-t","sm:border-b-0","z-10","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"volunteers-grid","grid","items-center","gap-4","py-3","px-6","md:px-8","border-b"],[1,""],[1,"lg:flex","items-center"],[1,"hidden","lg:block","truncate"],[1,"hidden","lg:block"],["mat-stroked-button","",1,"min-w-10","min-h-7","h-7","px-2","leading-6",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"text-green-400","icon-size-5",3,"svgIcon"],[1,"text-gray-400","icon-size-5",3,"svgIcon"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"shadow-lg","overflow-hidden"],[1,"flex","border-b"],[1,"flex","flex-col","w-full",3,"formGroup"],[1,"flex","flex-col","sm:flex-row","p-8"],[1,"flex","flex-auto","flex-wrap"],[1,"flex","flex-col","w-full","lg:w-3/4","sm:pl-8"],[1,"w-full"],["matInput","",3,"formControlName"],[1,"flex"],[1,"fuse-mat-textarea","flex-auto","w-2/3","pr-2"],["matInput","",3,"placeholder","rows","formControlName"],[1,"w-1/3","pl-2"],["id","password","matInput","","type","password",3,"formControlName"],["passwordField",""],["mat-icon-button","","type","button","matSuffix","",3,"click"],["class","icon-size-5",3,"svgIcon",4,"ngIf"],[1,"w-1/3","pr-2"],["multiple","",3,"formControlName"],[4,"ngFor","ngForOf"],[3,"formControlName"],[1,"flex","flex-col","w-full","lg:w-1/4","sm:pl-8"],[1,"w-2/3"],[1,"font-semibold","mb-2"],[3,"formControlName","color"],[1,"flex","items-center","justify-between","w-full","border-t","px-8","py-4"],[1,"flex","items-center"],["class","flex items-center mr-4",4,"ngIf"],["mat-flat-button","",3,"color","click"],[3,"value"],[1,"flex","items-center","mr-4"],[1,"text-green-500",3,"svgIcon"],[1,"ml-2"],[1,"text-red-500",3,"svgIcon"],[1,"p-8","sm:p-16","border-t","text-4xl","font-semibold","tracking-tight","text-center"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.YNc(2,F,2,1,"div",2),e.TgZ(3,"div",3),e._uU(4,"Volunteers"),e.qZA(),e.TgZ(5,"div",4),e.TgZ(6,"mat-form-field",5),e._UZ(7,"mat-icon",6),e._UZ(8,"input",7),e.qZA(),e.TgZ(9,"button",8),e.NdJ("click",function(){return i.createVolunteer()}),e._UZ(10,"mat-icon",9),e.TgZ(11,"span",10),e._uU(12,"Add New"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",11),e.TgZ(14,"div",12),e.YNc(15,E,2,2,"ng-container",13),e.ALo(16,"async"),e.YNc(17,te,58,22,"ng-template",null,14,e.W1O),e.YNc(19,ne,2,0,"ng-template",null,15,e.W1O),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.Q6J("ngIf",i.isLoading),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:search"),e.xp6(1),e.Q6J("formControl",i.searchInputControl)("autocomplete","off")("placeholder","Search Volunteer"),e.xp6(1),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(5),e.Q6J("ngIf",e.lcZ(16,8,i.volunteers$)))},directives:[c.O5,a.KE,x.Hw,a.qo,h.Nt,l.Fj,l.JJ,l.oH,_.lW,v.pW,m.YE,m.nU,g.NW,c.mk,c.sg,c.tP,l._Y,l.JL,l.sg,a.hX,l.u,a.R9,a.TO,T.gD,A.Rr,Z.ey],pipes:[c.Ov],styles:[".volunteers-grid{grid-template-columns:48px auto 40px}@media (min-width: 600px){.volunteers-grid{grid-template-columns:48px auto 112px 72px}}@media (min-width: 960px){.volunteers-grid{grid-template-columns:48px 112px auto 112px 72px}}@media (min-width: 1280px){.volunteers-grid{grid-template-columns:48px auto 112px 112px 96px 96px 72px}}\n"],encapsulation:2,data:{animation:N.L},changeDetection:0}),t})();const re=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-volunteers"]],decls:1,vars:0,template:function(n,i){1&n&&e._UZ(0,"router-outlet")},directives:[f.lC],encapsulation:2,changeDetection:0}),t})(),children:[{path:"",component:oe,resolve:{volunteers:s(5164).D}}]}];let le=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[f.Bz.forChild(re),_.ot,V.p9,a.lN,x.Ps,h.c,b.Tx,g.TU,v.Cv,Z.si,m.JX,T.LD,A.rP,Q.AV,J.m]]}),t})()}}]);